var mongoose = require('mongoose');

mongoose.set('debug', true);

module.exports = function() {
    var schema = mongoose.Schema({
        nome : {
            type : String,
            required : true
        }, 
        email : {
            type : String,
            required : true,
            index : {
                unique : true
            }
        },
        emergencia : {
            ref : 'Contato',
            type : mongoose.Schema.ObjectId,            
        }
    }, {versionKey : false});
    return mongoose.model('Contato', schema);
};